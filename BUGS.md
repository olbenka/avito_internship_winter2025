# BUGS.md

## Найденные баги в API микросервиса объявлений

### 1. Отсутствие проверки на обязательность `name` при создании объявления
**ID:** BUG-001  
**Описание:** При отправке `POST /api/1/item` без поля `name` сервер возвращает `200 OK`, вместо ожидаемой ошибки `400 Bad Request`.  
**Шаги для воспроизведения:**  
1. Отправить `POST` запрос на `/api/1/item` без поля `name`.
2. Проверить ответ сервера.
**Ожидаемый результат:** Ошибка `400 Bad Request` с сообщением о том, что `name` является обязательным.
**Фактический результат:** Ответ `200 OK`, объявление создаётся без `name`.

---

### 2. Возможность создания объявления с отрицательной ценой
**ID:** BUG-002  
**Описание:** При отправке `POST /api/1/item` с `price=-100` сервер возвращает `200 OK`, хотя логично было бы отклонить такие данные.  
**Шаги для воспроизведения:**  
1. Отправить `POST` запрос на `/api/1/item` с `price=-100`.
2. Проверить ответ сервера.
**Ожидаемый результат:** Ошибка `400 Bad Request` с сообщением, что цена не может быть отрицательной.
**Фактический результат:** Ответ `200 OK`, объявление создаётся с отрицательной ценой.

---

### 3. Изменение переданных данных при создании объявления
**ID:** BUG-003  
**Описание:** При создании объявления с определённым `name`, API возвращает объявление с другим `name`, который не совпадает с переданным.  
**Шаги для воспроизведения:**  
1. Отправить `POST` запрос на `/api/1/item` с `name = "Test Item"`.
2. Получить объявление по `id` через `GET /api/1/item/{id}`.
3. Проверить `name` в ответе.
**Ожидаемый результат:** `name` в ответе совпадает с переданным значением `Test Item`.
**Фактический результат:** API возвращает `name = "dsdsd"`, что не соответствует отправленным данным.

---

### 4. API возвращает объявления для несуществующего sellerID
**ID:** BUG-004  
**Описание:** При запросе `GET /api/1/{sellerID}/item` с несуществующим `sellerID`, API возвращает объявления, хотя должно вернуть пустой список.  
**Шаги для воспроизведения:**  
1. Отправить `GET` запрос на `/api/1/99999999/item` (несуществующий `sellerID`).
2. Проверить ответ сервера.
**Ожидаемый результат:** Пустой список `[]`.
**Фактический результат:** API возвращает список объявлений, которые не относятся к этому `sellerID`.

---

### 5. API возвращает некорректные данные статистики
**ID:** BUG-005  
**Описание:** При запросе `GET /api/1/statistic/{id}` API возвращает статистику (`likes`, `viewCount`, `contacts`), которая не совпадает с данными, переданными при создании объявления.  
**Шаги для воспроизведения:**  
1. Отправить `POST` запрос на `/api/1/item` с `statistics = {"likes": 10, "viewCount": 50, "contacts": 3}`.
2. Получить статистику объявления через `GET /api/1/statistic/{id}`.
3. Проверить данные статистики в ответе.
**Ожидаемый результат:** `likes`, `viewCount`, `contacts` должны совпадать с теми, что были переданы при создании объявления.
**Фактический результат:** API возвращает другие значения (`likes = 20` вместо `10`).


